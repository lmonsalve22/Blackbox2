@{
    Layout = "~/Views/Shared/_LayoutMunicipio.cshtml";
}

<!doctype html>
<html lang="es">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    @*<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>*@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="~/Scripts/Usuario/Coleccion.js"></script>

    <script>
        function mostrador(seccion1) {
            var arreglo = [
                '#Comuna',

            ];
            //arreglo.forEach
            jQuery.each(arreglo, function (i, val) {
                $(val).hide();
            });
            $(seccion1).show();
        }
    </script>

    <script>
        function ActivarMenuSuperior3(opcionMenu) {
            $('.active5').removeClass('active5');
            $(opcionMenu).addClass("active5");
        }
    </script>
    <style>
        .active5 {
            background-color: #f6f6f6 !important;
        }
    </style>
</head>
<body>
    <main class="container-fluid">
        <div class="row">
            <div class="col-sm-3  pb-sm-0 pb-3 d-none d-md-block" style="padding-left:0px !important;">
                <div class="border ulcolecciones">
                    <h6 class="h6colecciones">Contenido de la colección</h6>
                    <ul style="list-style:none; padding-left:0px !important; ">
                        <li class="licolecciones">
                            <a onclick="CargarPortada('Sociodemográfico'); ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones active5 ">
                                <span class="lispancolecciones">
                                    Comuna
                                </span>
                            </a>
                        </li>
                        @foreach (var item in ViewBag.contenidos)
                        {
                            //string contenidojs = item.Substring(0, 1).ToUpper() + item.Substring(1).ToLower();
                            <li class="licolecciones">
                                <a onclick="CargarContenido('@item'); ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones ">
                                    <span class="lispancolecciones">
                                        @item
                                    </span>
                                </a>
                            </li>
                        }
                        @*<li class="licolecciones">
                            <a onclick="CargarContenido('Sociodemográfico'); ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">
                                <span class="lispancolecciones">
                                    Datos Sociodemográficos
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Estadísticas Vitales'); ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Estadísticas Vitales</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Pueblos indígenas');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones ">

                                <span class=" lispancolecciones">Pueblos indígenas</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Salud');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Salud</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Espacios Culturales');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Espacios Culturales</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Telecomunicaciones e Internet');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Telecomunicaciones e Internet</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Violencia Contra la Mujer');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Violencia Contra la Mujer</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Tránsito');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Tránsito</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Incendios');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Incendios</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Energía');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Energía</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Empresas');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Empresas</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Delincuencia');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Delincuencia</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Caracterización Biofísica');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Caracterización Biofísica</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Gestión Municipal Salud');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Gestión Municipal de la Salud</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Gestión Municipal Educación');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">Gestión Municipal de la  Educación</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Gestión Comunitaria y Social');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Gestión Comunitaria y Social
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Administración y Finanzas');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones ">

                                <span class="lispancolecciones">Administración y Finanzas</span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Gestión Municipal');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Gestión Municipal
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Distancia a Servicios');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Distancias a Servicios
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Establecimientos');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Establecimientos
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Viviendas');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Viviendas
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Hogares');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Hogares
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Distribución de Niños');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Distribución de Niños
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Distribución de Población');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Distribución de Población
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Índices Espectrales');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Índices Espectrales
                                </span>
                            </a>
                        </li>

                        <li class="licolecciones">
                            <a onclick="CargarContenido('Número de Mujeres por Distancia a Servicios');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Número de Mujeres por Distancia a Servicios
                                </span>
                            </a>
                        </li>
                        <li class="licolecciones">
                            <a onclick="CargarContenido('Población mayor a 65 años  por Distancia a Servicios');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Población mayor a 65 años  por Distancia a Servicios
                                </span>
                            </a>
                        </li>

                        <li class="licolecciones">
                            <a onclick="CargarContenido('Brief Comunal');ActivarMenuSuperior3(this);" class="nav-link px-2 text-truncate liacolecciones">

                                <span class="lispancolecciones">
                                    Brief Comunal
                                </span>
                            </a>
                        </li>*@
                    </ul>
                </div>
            </div>
            <div class="col overflow-auto mb-md-5">
                @*Dropdaown MENU PARA MOVIL*@
                <div class="conteiner-fluid d-block d-md-none">
                    <div class="row">
                        <div class="col-12 ddcolecciones">
                            <div class="dropdown ">
                                <a class="btn dropdown-toggle ddcolecciones" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                    Contenido de la colección
                                </a>
                                <ul class="dropdown-menu ddcolecciones" aria-labelledby="dropdownMenuLink">
                                    <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Sociodemográfico');" class="dropdown-item btn btn-light ddhcolecciones">Comuna</a></li>

                                    @foreach (var item in ViewBag.contenidos)
                                    {
                                        string contenidojs = item.Substring(0, 1).ToUpper() + item.Substring(1).ToLower();
                                        <li style="border-bottom:1px solid #d1d3de">
                                            <a onclick="CargarContenido('@item');" class="dropdown-item btn btn-light ddhcolecciones"> @item</a>
                                        </li>
                                    }
                                    @*<li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Sociodemográfico');" class="dropdown-item btn btn-light ddhcolecciones">Datos Sociodemográficos</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Estadísticas Vitales');" class="dropdown-item btn btn-light ddhcolecciones">Estadísticas Vitales</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Pueblos indígenas');" class="dropdown-item btn btn-light ddhcolecciones">Pueblos indígenas</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Salud');" class="dropdown-item btn btn-light ddhcolecciones">Salud</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Espacios Culturales');" class="dropdown-item btn btn-light ddhcolecciones">Espacios Culturales</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Telecomunicaciones e Internet');" class="dropdown-item btn btn-light ddhcolecciones">Telecomunicaciones e Internet</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Violencia Contra la Mujer');" class="dropdown-item btn btn-light ddhcolecciones">Violencia Contra la Mujer</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Tránsito');" class="dropdown-item btn btn-light ddhcolecciones">Tránsito</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Incendios');" class="dropdown-item btn btn-light ddhcolecciones">Incendios</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Energía');" class="dropdown-item btn btn-light ddhcolecciones">Energía</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Empresas');" class="dropdown-item btn btn-light ddhcolecciones">Empresas</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Delincuencia');" class="dropdown-item btn btn-light ddhcolecciones">Delincuencia</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Caracterización Biofísica');" class="dropdown-item btn btn-light ddhcolecciones">Caracterización Biofísica</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Gestión Municipal Salud');" class="dropdown-item btn btn-light ddhcolecciones">Gestión Municipal de la Salud</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Gestión Municipal Educación');" class="dropdown-item btn btn-light ddhcolecciones">Gestión Municipal de la  Educación</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Gestión Comunitaria y Social');" class="dropdown-item btn btn-light ddhcolecciones">Gestión Comunitaria y Social</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Administración y Finanzas');" class="dropdown-item btn btn-light ddhcolecciones">Administración y Finanzas</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Gestión Municipal');" class="dropdown-item btn btn-light ddhcolecciones">Gestión Municipal</a></li>

        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Distancia a Servicios');" class="dropdown-item btn btn-light ddhcolecciones">Distancias a Servicios</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Establecimientos');" class="dropdown-item btn btn-light ddhcolecciones">Establecimientos</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Viviendas');" class="dropdown-item btn btn-light ddhcolecciones">Viviendas</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Hogares');" class="dropdown-item btn btn-light ddhcolecciones">Hogares</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Distribución de Niños');" class="dropdown-item btn btn-light ddhcolecciones">Distribución de Niños</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Distribución de Población');" class="dropdown-item btn btn-light ddhcolecciones">Distribución de Población</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Índices Espectrales');" class="dropdown-item btn btn-light ddhcolecciones">Índices Espectrales</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Número de Mujeres por Distancia a Servicios');" class="dropdown-item btn btn-light ddhcolecciones">Número de Mujeres por Distancia a Servicios</a></li>
        <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Población mayor a 65 años  por Distancia a Servicios');" class="dropdown-item btn btn-light ddhcolecciones">Población mayor a 65 años  por Distancia a Servicios</a></li>
                                    <li style="border-bottom:1px solid #d1d3de"><a onclick="CargarContenido('Brief Comunal');" class="dropdown-item btn btn-light ddhcolecciones">Brief Comunal</a></li>*@
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                @*FIN MENU PARA MOVIL*@

                <div>

                    <div id="bodyContenido" class="mb-5 col-12 mt-3 mt-md-0">
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center mt-3" style="padding-top: 3%; padding-bottom: 1%; background-color: #C6CCDC; height: auto ">
            <div class="col-12 col-md-3 mt-3 text-center">
                <!--Buscador -->
                <form action="~/Municipio/PaginaBusqueda" method="get" class="mt-3 mt-md-0">
                    <input type="text" id="id" name="id" placeholder="Búsqueda de palabras claves" style="padding: 6px; border: none; border-top-left-radius: 3px; border-bottom-left-radius: 3px;">
                    <button id="search-button" type="submit" value="Submit" class="btn btn-primary">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
            <div class="col-12 col-md-3 mt-2 mt-md-0 text-center  ">
                <h4 style="color:black; font-size:1.2rem;"><b>¡Explora, busca y encuentra!</b></h4>
                <p>en todo nuestro universo de datos</p>
            </div>
            <div class="col-12 mb-3 col-md-3 text-center ">
                <img class="img-fluid" src="~/Content/img/negro-rojo-trans - copia.png" alt="" />
            </div>
        </div>
    </main>
    <script>
        function CargarContenido(id) {
            $('#bodyContenido').html('<h2>Cargando Información...espere un momento por favor</h2>')
            $.ajax(
                {
                    type: 'POST',
                    data: "{'id':" + "'" + id + "'}", //datos o parametros enviados al servidor
                    dataType: 'html', //el tipo de dato que nos regresara el servidor en este caso regresa html
                    url: '/Municipio/parcialColeccion?contenido=' + id,
                    //URL del action result que cargara la vista parcial
                    success: function (result) {
                        // si la funcion se ejecuta lanzara un alert
                        //cuando se ejecuta bien la funcion agregara al div vistaParcial el contenido
                        //que recibio del servidor
                        $("#bodyContenido").html(result);
                    },
                    error: function (error) {
                        // si hay un error lanzara el mensaje de error
                        $("#bodyContenido").html('<h2>No hemos encontrado gráficos relacionados</h2>');
                    }
                });
        }

        function CargarPortada(id) {
            $('#bodyContenido').html('<h2>Cargando Información...espere un momento por favor</h2>')
            $.ajax(
                {
                    type: 'POST',
                    data: "{'id':" + "'" + id + "'}", //datos o parametros enviados al servidor
                    dataType: 'html', //el tipo de dato que nos regresara el servidor en este caso regresa html
                    url: '/Municipio/Portada',
                    //URL del action result que cargara la vista parcial
                    success: function (result) {
                        // si la funcion se ejecuta lanzara un alert
                        //cuando se ejecuta bien la funcion agregara al div vistaParcial el contenido
                        //que recibio del servidor
                        $("#bodyContenido").html(result);
                    },
                    error: function (error) {
                        // si hay un error lanzara el mensaje de error
                        $("#bodyContenido").html('<h2>No hemos encontrado gráficos relacionados</h2>');
                    }
                });
        }
        /*CargarContenido("Sociodemográfico")*/
        /* CargarContenido("Sociodemográfico")*/
        CargarPortada("Sociodemográfico");
        ActivarMenuSuperior("#Agricultura_ContenidoColeccion");
    </script>
</body>
</html>